<html>
  <head>
        <meta charset="utf-8">
        <title>Drag Pie</title>
  </head>

  <body>
  	<script src="https://d3js.org/d3.v3.min.js" charset="utf-8">
  	</script>
  	
<script>


var bubbleChart = function () {
    var width = 600
    height = 400;
    function chart(selection){
        // we gonna get here
    }

    chart.width = function(value) {
        if (!arguments.length) { return width; }
        width = value;

        return chart;
    }
    chart.height = function(value) {
        if (!arguments.length) { return height; }
        height = value;

        return chart;
    }

    return chart;
}

var chart = bubbleChart();
bubbleChart().width(); // returns 600
var chart = bubbleChart().width(600).height(400);

var chart = bubbleChart(); 
chart.setWidth(600); 
chart.setHeight(400);
<svg width="600" height="400">
    <circle></circle> // a story from data
    <circle></circle> // another story from data
    ...
</svg>


d3.csv('file.csv', function(error, our_data) {
    var data = our_data; //here you can do what you want with the data
}

<div class="chart-example" id="chart"><svg></svg></div>
d3.csv('medium_january.csv', function(error, our_data) {
    if (error) {
        console.error('Error getting or parsing the data.');
        throw error;
    }
    var chart = bubbleChart().width(600).height(400);
    d3.select('#chart').data(our_data).call(chart);
 });

 var simulation = d3.forceSimulation(data)
 .force("charge", d3.forceManyBody().strength([-50]))
 .force("x", d3.forceX())
 .force("y", d3.forceY())
 .on("tick", ticked);

 function ticked(e) {
    node.attr("cx", function(d) { return d.x; })
        .attr("cy", function(d) { return d.y; });
    // 'node' is each circle of the bubble chart
 }

 var simulation = d3.forceSimulation(data) 
    .force("charge", d3.forceManyBody().strength([-50])) 
    .force("x", d3.forceX()) 
    .force("y", d3.forceY()) 
    .on("tick", ticked); 
function ticked(e) { 
    node.attr("cx", function(d) { return d.x; }) 
        .attr("cy", function(d) { return d.y; }); 
}

var scaleRadius = d3.scaleLinear()
            .domain([d3.min(data, function(d) { return +d.views; }), 
                    d3.max(data, function(d) { return +d.views; })])
            .range([5,18]);

            var node = svg.selectAll("circle")
   .data(data)
   .enter()
   .append("circle")
   .attr('r', function(d) { return scaleRadius(d.views)})
});

var colorCircles = d3.scaleOrdinal(d3.schemeCategory10);

var node = svg.selectAll("circle")
    .data(data)
    .enter()
    .append("circle")
    .attr('r', function(d) { return scaleRadius(d.views)})
    .style("fill", function(d) { return colorCircles(d.category)});

    var node = svg.selectAll("circle")
 .data(data)
 .enter()
 .append("circle")
 .attr('r', function(d) { return scaleRadius(d.views)})
 .style("fill", function(d) {return colorCircles(d.category)})
 .attr('transform', 'translate(' + [width / 2, height / 2] + ')');

 var tooltip = selection
 .append("div")
 .style("position", "absolute")
 .style("visibility", "hidden")
 .style("color", "white")
 .style("padding", "8px")
 .style("background-color", "#626D71")
 .style("border-radius", "6px")
 .style("text-align", "center")
 .style("font-family", "monospace")
 .style("width", "400px")
 .text("");
var node = svg.selectAll("circle")
 .data(data)
 .enter()
 .append("circle")
 .attr('r', function(d) { return scaleRadius(d.views)})
 .style("fill", function(d) {return colorCircles(d.category)})
 .attr('transform', 'translate(' + [width / 2, height / 2] + ')')
 .on("mouseover", function(d){
     tooltip.html(d.category +"<br>"+ d.title+"<br>"+d.views); 
     return tooltip.style("visibility", "visible");})
 .on("mousemove", function(){
   return tooltip.style("top", (d3.event.pageY-       10)+"px").style("left",(d3.event.pageX+10)+"px");})
 .on("mouseout", function(){return tooltip.style("visibility", "hidden");});

 </style>
</body>
 </html>